{"version":3,"file":"profile.component.js","sourceRoot":"","sources":["../../../Users/gusdev/code/rumpel/tmp/broccoli_type_script_compiler-input_base_path-f2J48Fb3.tmp/0/src/app/dataViews/profile/profile.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProfileService, HatApiService } from '../../services';\nimport { Profile } from '../../shared';\n\n@Component({\n  moduleId: module.id,\n  selector: 'rump-profile',\n  templateUrl: 'profile.component.html',\n  styleUrls: ['profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n  private hatIdMapping: any;\n  public profile: Profile;\n  public profilePhoto: any;\n  public hatUrl: string;\n\n  constructor(private profileSvc: ProfileService,\n              private hat: HatApiService,\n              private router: Router) {}\n\n  ngOnInit() {\n    this.hatUrl = this.hat.getUrl();\n    this.profilePhoto = {};\n    this.profileSvc.initializeProfile().subscribe(hatIdMapping => {\n      console.log(hatIdMapping);\n      this.hatIdMapping = hatIdMapping;\n\n      this.profileSvc.getFullProfile().subscribe(profile => {\n        if (profile) this.profile = profile;\n      });\n    });\n\n    this.profileSvc.getPicture().subscribe(profilePicture => {\n      if (profilePicture) this.profilePhoto = profilePicture;\n      else this.profilePhoto = { url: 'avatar_placeholder.svg'};\n    });\n\n    this.profile = {\n      private: 'true',\n      fb_profile_photo: { private: true },\n      personal: { title: '', first_name: '', middle_name: '',\n                  last_name: '', preferred_name: '', private: true },\n      nick: { name: '', private: true },\n      birth: { date: '', private: true },\n      gender: { type: '', private: true },\n      age: { group: '', private: true },\n      primary_email: { value: '', private: true },\n      alternative_email: { value: '', private: true },\n      home_phone: { no: '', private: true },\n      mobile: { no: '', private: true },\n      address_details: { no: '', street: '', postcode: '', private: true },\n      address_global: { city: '', county: '', country: '', private: true },\n      website: { link: '', private: true },\n      blog: { link: '', private: true },\n      facebook: { link: '', private: true },\n      linkedin: { link: '', private: true },\n      twitter: { link: '', private: true },\n      google: { link: '', private: true },\n      youtube: { link: '', private: true },\n      emergency_contact: { first_name: '', last_name: '', mobile: '',\n                          relationship: '', private: true },\n      about: { title: '', body: '', private: true }\n    };\n  }\n\n  submitForm(event) {\n    event.preventDefault();\n    this.profileSvc.saveProfile(this.profile, this.hatIdMapping).subscribe();\n    this.router.navigate(['']);\n  }\n\n  discardChanges() {\n    this.router.navigate(['']);\n  }\n\n  toggleProfilePrivacy() {\n    this.profile.private = this.profile.private === 'true' ? 'false' : 'true';\n  }\n\n  togglePrivacy(field: string) {\n    this.profile[field].private = this.profile[field].private === 'true' ? 'false' : 'true';\n  }\n\n}\n"]}